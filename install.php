<?php
session_start();
error_reporting(E_ALL);
ini_set('display_errors', 'On');

$noLocal = false;
require_once($_SERVER['DOCUMENT_ROOT'] . '/config/config.php');

if(!(include(ROOT . DS . 'config' . DS . 'local.php'))) {  $noLocal = true; }

require_once(ROOT . DS . 'config' . DS . 'definitions.php');
require_once(ROOT . DS . 'lib' . DS . 'functions.php');
    
if(( isset($_GET['config-check']) && $_GET['config-check'] == 1) || isset($_POST) && !empty($_POST) ){
    
   
    
    /** check PHP version **/
    if(phpversion() < '5.4'){
        $response[] = '<div class="alert alert-warning"><i class="fa fa-exclamation-triangle"></i> The TSA has not been tested on versions of PHP lower than 5.4</div>';
    }
    else {
        $response[] = '<div class="alert alert-success"><i class="fa fa-check"></i> PHP Version is ' . phpversion() . '</div>';
    }
    /** check db connection **/
    $dns = DBTYPE . ':dbname=' . DBNAME . ';host=' . DBHOST . ';charset=utf8';
    $database = new PDO($dns, DBUSER, DBPASS);
    if(is_object($database)){
        $version = $database->getAttribute(PDO::ATTR_SERVER_VERSION);
        $response[] = '<div class="alert alert-success"><i class="fa fa-check"></i> Successfully connected to Database (MySQL version ' . $version . ')</div>';
    }
    else {
        $response[] = '<div class="alert alert-danger"><i class="fa fa-times"></i> Could not establish a connection to the Database! </div>';
    }
    /** check strength of App Key based on length and variations (basically almost useless, but hey, better than IHEARTMUM **/
    $app_key_error = false;
    if(strlen(APPKEY) < 16) {
        $app_key_error = true;
        $response[] = '<div class="alert alert-warning"><i class="fa fa-exclamation-triangle"></i> Your App Key should be at least 16 characters long.</div>';
    }
    if(!preg_match('/[a-zA-Z]/',    APPKEY)){
        $app_key_error = true;
        $response[] = '<div class="alert alert-warning"><i class="fa fa-exclamation-triangle"></i> Your App Key should contain at least a capital letter.</div>';
    }
    if(!preg_match('/\d/',          APPKEY)){
        $app_key_error = true;
        $response[] = '<div class="alert alert-warning"><i class="fa fa-exclamation-triangle"></i> Your App Key should contain at least a number.</div>';
    }

    if(!preg_match('/[^a-zA-Z\d]/', APPKEY)){
        $app_key_error = true;
        $response[] = '<div class="alert alert-warning"><i class="fa fa-exclamation-triangle"></i> Your App Key should contain at least a symbol.</div>';
    }
    if(!$app_key_error){
        $response[] = '<div class="alert alert-success"><i class="fa fa-check"></i> Your App Key seems strong enough.</div>';
    }
    
    
    
    if(isset($_POST) && !empty($_POST)){
    
        /** get classes **/
        include(ROOT . DS . 'lib' . DS . 'modelinterface.class.php');
        include(ROOT . DS . 'lib' . DS . 'model.class.php');
        include(ROOT . DS . 'app' . DS . 'model' . DS . 'user.model.php');
        include(ROOT . DS . 'app' . DS . 'model' . DS . 'session.model.php');
        
        $error = false; 
        /** extract data **/
        $pass = trim($_POST['apppwd']);
        $user = trim($_POST['appusername']);
        $mail = filter_var(trim($_POST['appemail']), FILTER_SANITIZE_EMAIL);
        
        /** validate data **/
        if(empty($pass) || strlen($pass) < 8) {
            $error = true;
            $response[] = '<div class="alert alert-danger"><i class="fa fa-times"></i> Your password is too short, 8 characters minimum.</div>';
        }
        
        if(empty($user)){
            $error = true;
            $response[] = '<div class="alert alert-danger"><i class="fa fa-times"></i> Your username cannot be empty.</div>';
        }
        if(empty($mail)){
            $error = true;
            $response[] = '<div class="alert alert-danger"><i class="fa fa-times"></i> Your email cannot be empty.</div>';
        }
        
        if(!filter_var($mail, FILTER_VALIDATE_EMAIL)){
            $error = true;
            $response[] = '<div class="alert alert-danger"><i class="fa fa-times"></i> Please input a <strong>valid</strong> email address.</div>';
        }
        
        /** if data is OK, we can install DB and create ROOT **/
        if($error == false){ 
            /** Install DB **/
            $sql = "
                DROP TABLE IF EXISTS `slides`;
                DROP TABLE IF EXISTS `projects`;
                DROP TABLE IF EXISTS `sessions`;
                DROP TABLE IF EXISTS `users`;
                DROP TABLE IF EXISTS `slide_contents`;
                DROP TABLE IF EXISTS `slide_list`;
                DROP TABLE IF EXISTS `steps`;
                DROP TABLE IF EXISTS `slide_types`;
                DROP TABLE IF EXISTS `pages`;
                
                CREATE TABLE `users` (
                  `idusers` int(11) NOT NULL AUTO_INCREMENT,
                  `email` varchar(255) NOT NULL,
                  `password` varchar(60) NOT NULL,
                  `name` varchar(255) NOT NULL,
                  `role` varchar(45) NOT NULL DEFAULT 'user',
                  `created_at` timestamp NULL DEFAULT NULL,
                  `modified_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                  PRIMARY KEY (`idusers`),
                  UNIQUE KEY `email_UNIQUE` (`email`),
                  KEY `idx_role` (`role`)
                ) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
                
                
                CREATE TABLE `projects` (
                  `idprojects` int(11) NOT NULL AUTO_INCREMENT,
                  `hash` varchar(255) NOT NULL,
                  `title` varchar(255) DEFAULT NULL,
                  `user` int(11) NOT NULL,
                  `created_at` timestamp NULL DEFAULT NULL,
                  `modified_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                  PRIMARY KEY (`idprojects`),
                  KEY `idxProjectUser` (`user`),
                  KEY `idxProjectHash` (`hash`),
                  CONSTRAINT `fkProjectUser` FOREIGN KEY (`user`) REFERENCES `users` (`idusers`) ON DELETE NO ACTION ON UPDATE NO ACTION
                ) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
                
                CREATE TABLE `sessions` (
                  `idsessions` int(11) NOT NULL AUTO_INCREMENT,
                  `session` varchar(255) NOT NULL,
                  `user` int(11) NOT NULL,
                  `created_at` timestamp NULL DEFAULT NULL,
                  `modified_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                  PRIMARY KEY (`idsessions`),
                  UNIQUE KEY `session_UNIQUE` (`session`),
                  KEY `idxSessionsUsers` (`user`),
                  CONSTRAINT `fkSessionsUsers` FOREIGN KEY (`user`) REFERENCES `users` (`idusers`) ON DELETE NO ACTION ON UPDATE NO ACTION
                ) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
                
                CREATE TABLE `slide_types` (
                  `idslide_types` int(11) NOT NULL AUTO_INCREMENT,
                  `slide_type` varchar(30) NOT NULL,
                  PRIMARY KEY (`idslide_types`)
                ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
                
                LOCK TABLES `slide_types` WRITE;
                /*!40000 ALTER TABLE `slide_types` DISABLE KEYS */;
                INSERT INTO `slide_types` VALUES (1,'Informative'),(2,'Interactive'),(3,'Branching'),(4,'Recap');
                /*!40000 ALTER TABLE `slide_types` ENABLE KEYS */;
                UNLOCK TABLES;
                
                CREATE TABLE `steps` (
                  `idsteps` int(11) NOT NULL AUTO_INCREMENT,
                  `position` int(11) NOT NULL,
                  `title` varchar(255) NOT NULL,
                  `description` text NOT NULL,
                  PRIMARY KEY (`idsteps`),
                  KEY `idxStepPosition` (`position`)
                ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
                
                
                LOCK TABLES `steps` WRITE;
                /*!40000 ALTER TABLE `steps` DISABLE KEYS */;
                INSERT INTO `steps` VALUES (1,1,'Understand your needs','<p>This section will help you clarify how a tool could help achieve your organisation\'s objectives. It will keep you focused on the reason you needed a tool in the first place.</p><p>It will give you a text description what the tool should achieve and detailed descriptions of the tool’s potential users. This can help you create a stronger argument for introducing the tool to others, or produce a specifications document that will help you get outside help (if you need it). </p>'),(2,2,'Understand the Tech','\n<div class=\"col-md-8\">\n<h1>Keep it simple</h1>\n<p>Start by writing down all the things that your tool needs to be able to do. Try not to miss anything out – adding more features later can be expensive.</p>\n<blockquote>SA17 - One organisation didn’t mention several key features when it asked a technical provider to build it a tool, including whether it could integrate with their existing systems or work without internet access. The tool did not fulfil the organization’s needs, and it is now looking for another technical provider. </blockquote>\n<p>But resist the temptation to make your tool more complex than it needs to be. Focus on the essential features first, and try to find the easiest way of getting something that has those features. </p>\n<p>If you’re sure that you want more features, think hard about how much you really need them. Our research suggests that often the simpler the tool is, the easier be making it for yourself. If you choose an overly complex set of features:</p>\n<ul>\n<li>You may find it harder to find an existing tool that fits your needs</li>\n<li>If you are developing a tool for the purpose, it will be more expensive to develop</li>\n<li>It will take more time for your users to learn how to use the features.</li>\n<li>Start by looking at the tools you or your users are already using, Can any of them be used to fit your needs?     </li>\n    \n</ul>\n\n<blockquote>KE14 - An organisation wanted to build a platform that provided information for journalists to use in stories, and initially considered using WordPress. However, after assessing the tool they realised that they needed more functionality than Wordpress could provide and developed their own platform.</blockquote>\n<blockquote>KE12 - We found that we could not use the existing SMS system that the organization had and was using for other purposes, due to security concerns and resistance from the IT team. So we had to build our own.”</blockquote>\n</div>\n<div class=\"col-md-4\">\n    <h2>What concrete output this step will give you.</h2>\n    <p>This section will help you identify the features you need, and what tools are available that have those features.</p>\n    <p>It will also give you a written description to check with the tool’s potential users and compare tools with each other. </p>\n    <h3>Three things to consider</h3>\n    <ul>\n        <li>Organizations rarely looked at more than one tool, or did user research as well as tool research.</li>\n        <li>Most organizations stretched, and some completely exceeded, their capacity when adopting new tools. Initiatives often felt that they lacked enough expertise to make an informed choice.</li>\n        <li>Organizations that were confident about their ability to use technology were not always objective.</li>\n    </ul>\n</div>'),(3,3,'Try it out','...'),(4,4,'Find a Partner','...');
                /*!40000 ALTER TABLE `steps` ENABLE KEYS */;
                UNLOCK TABLES;
                
                
                CREATE TABLE `slide_list` (
                  `idslide_list` int(11) NOT NULL AUTO_INCREMENT,
                  `position` int(11) NOT NULL DEFAULT '1',
                  `title` text NOT NULL,
                  `description` text NOT NULL,
                  `step` int(11) NOT NULL,
                  `slide_type` int(11) NOT NULL,
                  PRIMARY KEY (`idslide_list`),
                  KEY `idxSlidelistStep` (`step`),
                  KEY `idxSlidelistWeight` (`position`,`step`),
                  KEY `idxSlidelistSlidetype` (`slide_type`),
                  CONSTRAINT `fkSlidelistSlidetype` FOREIGN KEY (`slide_type`) REFERENCES `slide_types` (`idslide_types`) ON DELETE NO ACTION ON UPDATE NO ACTION,
                  CONSTRAINT `fkSlidelistStep` FOREIGN KEY (`step`) REFERENCES `steps` (`idsteps`) ON DELETE NO ACTION ON UPDATE NO ACTION
                ) ENGINE=InnoDB AUTO_INCREMENT=37 DEFAULT CHARSET=utf8;
                
                LOCK TABLES `slide_list` WRITE;
                /*!40000 ALTER TABLE `slide_list` DISABLE KEYS */;
                INSERT INTO `slide_list` VALUES (1,1,'About this step','<h3>What this step will give you</h3>\n  <p><b>Step 1 will help you clarify how a tool could help achieve your organisation’s objectives</b>.</p><p>The Tool Selection Assistant guides you through three structured sections:</p><ul><li><b>Setting out your objective</b>: begin by deciding what you want to achieve and how a tool can help you do that.<br></li><li><b>Documenting what you need the tool to do</b>, which can help you identify tool options later on.<br></li><li><b>Understanding your users</b> by thinking hard about what they might need, how they use digital tools, and why they would want to use your tool.<br></li></ul><p>It will take a minimum of 25 minutes to complete Step 1. However, you will probably need to allow more time to ask questions or do more research: the Tool Selection Assistant will save your progress so that you can come back to it later.</p><p>When you have completed Step 1, the Tool Selection Assistant will let you create a PDF document setting out what the tool needs to do and describing its potential users. You can use this to explain your needs or decision-making process to colleagues, partners or funders. To create a PDF, make sure to register and log in.</p>\n\n  <p>It will give you a text description what the tool should achieve and detailed descriptions of the tool\'s potential users. This can help you create a stronger argument for introducing the tool to others, or produce a specifications document that will help you get outside help (if you need it).</p>\n  \n  <h3>What did the research say?</h3>\n  <ul>\n  <li>Less than 20% of the organizations we surveyed considered their tool a success.</li>\n  <li>Projects often underestimated the time, skills and effort they needed to put into choosing or using a tool.</li>\n  <li>Most projects didn\'t do much research before choosing a tool, which created challenges down the road.</li>\n  </ul>\n ',1,1),(2,2,'Good enough planning',' <p>We know that most projects have real limits on how much time and resources they can put into choosing a tool.  </p>\n <p>In an ideal world, detailed research and extensive testing are more likely to lead you to the best tool out there. But for many people, investing all this time and effort was not worth it. Rather than an \'ideal\' process, you might want one that\'s <strong>good enough to do the job.</strong></p>\n <blockquote>Case Study: \"The project was straightforward and timed to [coincide with an external event]... <br>We could not overthink it.\"</blockquote>\n <p>This [guide] gives advice for making successful tool selections that don\'t always have to involve a lot of time or effort. Our research suggests that a few small steps can make the difference between success and failure. </p>\n <p>The tips we offer are based on organisations\' own experiences of choosing tools quickly and effectively. Some found that tools they were already using could do the job, while others focused on tools that were cheap to test. They may not have chosen the best possible tool that was available anywhere, but they got one that was good enough for what they needed.</p>\n <blockquote>Case Study: An organisation adopted a new tool to collect data from an urban area that was a simple update on their previous tool: \"Because we already had the basic skills, it was just a matter of using the new features that were there. It was easy to use. We didn\'t need to go for another training. The choice happened immediately, from when we first saw it.\"</blockquote>',1,1),(3,3,'What is your objective?','<p>Explaining your project\'s objective - and how you think a tool could help you achieve it - is the best starting point for <strong>good enough</strong> tool decisions. Answer the questions below to get started. </p>\n <p>All your answers get saved in the <strong>Tool Selection Assistant</strong>, which automatically produces a text document of the project\'s strategy. This document is designed to be shared with colleagues or technical support providers. You can also use it to develop proposals or project documents for prospective donors. You can save your answers and come back to it at any time.</p>\n <h3>Describe the project. What is its objective?</h3>\n <p><em>(example: our project aims to allow users of a clinic to monitor the quality of service provision at 10-15 clinics in our city)</em></p>\n <p>A short, clear statement of what you want the tool to achieve will help you pick the best tool for the job. It can also help other people quickly understand what you are looking for and convince colleagues that a tool is needed.</p>\n [--answer--]\n <h4>Why does this matter?</h4>\n <p>Even a well-designed tool will be a failure if it doesn\'t help your project\'s goals. </p>\n <blockquote>Case Study: An organisation chose a mobile survey tool to collect data for a citizen monitoring project. The tool allowed the team to collect data effectively, but did not allow government officials to respond to citizens\' comments. The organisation had not prioritised their other objective - to encourage dialogue between citizens and the government - and described that in the information they gave to the partners they were working with. The result was they have had to re-develop the app.</blockquote>',1,2),(4,4,'How will a tool help? ','<h3>How do you think a digital tool could help you to achieve this objective?</h3><p>There are many ways of solving problems or meeting needs, and adding another technological tool isn\'t always the best one. If you know exactly what you want the tool to do, you will be able to find out quickly whether it is actually possible.</p> \r  <p><em>(example: a mobile phone-based digital tool could allow clinic users to rate how well the clinic had met their needs)</em></p>\r  [--answer--]\r  <h4>Why does this matter?</h4>\r  <p>Digital tools can speed up processes and increase your project\'s reach, but only when they are used in the right way.</p>\r  <blockquote>Case Study: An organisation wanted to speed up its collection of data from community monitors, which they had being doing using paper, scanning and email. However, the technical tool they introduced actually slowed things down - it took more time to tabulate the data collected into a useful form than it had when collecting it on paper.</blockquote>\r  ',1,2),(5,5,'Who will use the tool?','<div class=\"row\">\r<div class=\"col-md-12\">\r<h3>Who will use the tool?</h3>\r     </div>\r      <div class=\"col-md-6\">\r          <div class=\"radio\">\r        <label>\r                  <input type=\"radio\" name=\"choice\" class=\"choice\" id=\"choice15-1\" value=\"Only people inside the organization\" class=\"choice\">\r                  Only people <strong>inside</strong> your organization.               \r              </label>\r          </div>\r      </div>\r      <div class=\"col-md-6\">\r          <div class=\"radio\">\r              <label>\r                  <input type=\"radio\" name=\"choice\" class=\"choice\" id=\"choice15-2\" value=\"Only people outside the organization\">\r                  People <strong>outside</strong> your organization.               \r              </label>\r          </div>\r      </div>\r      <div class=\"col-md-12\">\r          <div class=\"checkbox\">\r              <label>\r                 <input type=\"hidden\" name=\"extra\" id=\"extra15-3\" value=\"No, the users will be people that we have engaged with before\">\r                  <input type=\"checkbox\" name=\"extra\" id=\"extra15-2\" value=\"Yes, the users will also be people that we have not engaged with before\">\r                  Will any of the users be people that you have not engaged with before?           \r              </label>\r          </div>\r      </div>\r      \r      <div class=\"col-md-12\">\r          <div class=\"choice-text\" id=\"choice15-1-text\">\r              <h3>Internal tools</h3>\r              <p>To be successful, the tool will have to fit into the way your colleagues currently work. This section sets out the basic information you will need to know.</p>\r              <h4>Define who your users are </h4>\r              <p>Firstly, list the names of the people who will use the tool. Do you know who all of them are? If you don\'t (perhaps because they work in a different office or your organisation is very big), describe them in general terms - by department, age or any other category that makes sense.</p>\r              <h4>Find out more</h4>\r              <p>Think about some the best way to get more information about them. If it\'s a small group, try one-on-one conversations or a short meeting with the users. If your group is larger or based in different places, try short emails with a few questions, or a quick online survey using a free tool like Google forms. If you know anyone else in your organization who knows these people well, ask them, too. </p>\r              <h4>What tools are they already using? </h4>\r              <p>Learning how to use a new tool takes time - it may be easier to use existing tools. Have they used any tools that could do the job? </p>\r  \r  \r              <blockquote>Case Study: An organisation trying to improve internal communication looking at their staff\'s existing communications habits \"realised that its co-ordinators were using WhatsApp to contact each other effectively.\" They introduced WhatsApp elsewhere in the organisation, which proved very successful: \"people could do it quickly and easily with the device they had.\" </blockquote>\r              \r              <h4>Check: could anything prevent them from using a tool?</h4>\r              <p>Do they already think that a new tool is needed, or will you have to persuade them to use it? Do they have the technical skills to operate the tool? Do they have the time to learn how a new tool works? Are there costs involved, and can they afford them?</p>\r              <h4>What can you do to make them more likely to use it?</h4>\r              <p>Think about providing training or more background information so that they have the skills they need. Can you encourage their managers to set aside the time for users to practice using the tool?</p>\r              \r              <blockquote>Case Study: \"Either the team is too busy, so they aren\'t spending time on Twitter, or else they just don\'t understand how you can make a difference with 140 characters. So it\'s been a challenge getting buy-in from staff themselves. So we\'ve been holding sessions on social media 101 in-house: this is how to tweet, this is how to come up with content.\"</blockquote>\r  \r              <h3>User Research Plan</h3>\r              [--answer--]\r              <p><em>Which of the questions above are worth asking in your organisation? Write them down: this is your user research plan.</em></p>\r              \r          </div>\r          <div class=\"choice-text\" id=\"choice15-2-text\">\r              \r              <h3>External Tools</h3>\r              \r              <h4>Summarise your target users - what characteristics do they share?</h4>\r              <p>Categorise your users by age, location, occupation or gender - such as \'financial journalists based in the capital city\', \'residents of a particular district\' or \'men aged 18-25\'. If your user group contains many different types of groups, break your users down into sub-groups.</p>\r              <p>Ideally, focus on groups that you already know or have worked with.</p>\r              <p>What are your assumptions about them? Are you sure they are correct?</p>\r              <blockquote>Case Study: Halfway through a project, a project realised that assumptions about their users might have been false. <br />\"Here, we\'re giving them a tool, but maybe we should really be giving them airtime, because they already have access to some internet-enabled gadget. Or maybe the only thing we needed to do was build their capacity or provide more information.\" They wished they had collected more data at the start about how their users thought about technology.</blockquote>\r              \r              <h4>Write down what you already know</h4>\r              \r              <p>Write a profile that describes your users</p>\r              <p>Start with what you already know. Pretend you are describing a typical member (or typical member of each sub-group) to someone who knows nothing about them. </p>\r              \r              <h4>Find out what tools they use already </h4>\r              <p>What are the main methods your typical member uses to access or use information? For example, when communicating, do they call people, use SMS or messaging services like WhatsApp? </p>\r              <blockquote>Case Study: An organisation that decided to use Facebook in their project found after they started using it that it was very popular - but only with white and middle-class people, not the black, working-class communities the project was trying to reach.</blockquote>\r              \r              <h4>Work out your typical user\'s habits</h4>\r              <p>Check whether there are specific times or places that your typical user accesses information or interacts with other people. Do they use particular tools (like social media) for some activities, and different tools (like email) for others?</p>\r              <blockquote>Case Study: \"We expected, as everyone said, that everyone would use SMS, as all the techies were crazy about it. And then when you really talk to [a person with a similar project] and he says: 99% of the complaints came in by telephone, and 1% by SMS. That is a striking number. He says, \'well, you can be try to be as fancy as you want, but it does not work.\'\"</blockquote>\r              \r              <h4>Check: could anything prevent your typical user from using a tool?</h4>\r              <p>Write down anything that could affect the user\'s ability to use a technology tool. Think about technical infrastructure (is there affordable internet or a reliable phone network throughout the area?), literacy (can your user read?), whether some groups speak different languages, or whether some groups have different access to facilities (for example, are men more likely to own smartphones than women?) </p>\r              <blockquote>Case Study: \"In spite of all the information campaigns that we had done, people thought they might still get charged [for using the tool]. They thought, \'what\'s the catch?\' Because of our familiarity in the community, we thought that would be better, but it was a problem still.\"</blockquote>\r              \r              <h4>Think about how they might relate to your project </h4>\r              <p>People sometimes showed little interest in using a tool in the first place, or stopped using it after initial enthusiasm. Organisations often discovered this when it was too expensive or too late to make changes. </p>\r              <p>Write down why you think a group might want to take part in your project. What would they get out of it? How much effort or commitment would be required? What might keep users coming back for more?  </p>\r              <p>Also think about your relationship with your target audience.</p>\r              \r              <h4>Do they have a reason to trust you, or distrust you?</h4>\r              <p>How will you make sure that you actually reach people? </p>\r              <p>Find out if they already take part in any activities like the ones you\'re considering for your project. If they do, ask them how they get involved, and what they get out of it. If they don\'t, think in advance about whether you can overcome any problems.</p>\r              <blockquote>Case Study: \"When we spoke to communities [in a rural area]...they don\'t really care if their complaints have been referred to the right place. They want SOLUTIONS.\" </blockquote>\r              \r            <div class=\"checkboxcheck\">\r              <h4>Consider the users you don\'t know</h4>\r              <p>Since your tool will also be used by people not yet identified, take some time to speculate on who these people might be and how they might differ from the users described above. How different could their media habits, technological literacy and relationships to the project be?</p>\r            </div>\r            \r              <h4>Make a list of what you don\'t know about potential users - and fill in the gaps</h4>\r              <p>You\'ve now had an opportunity to think carefully about who will be using the project tool and how. </p>\r              <p>Think about the questions above that you still don\'t have answers for.\r              How can you get the information you need to make sure you choose a good enough tool? Here are three options. </p>\r              \r              <ol>\r                  <li>Ask around: Talk with users who are like the ones you are trying to reach. You can try informal conversations, social media, going to community meetings, or designing short surveys.<br />\r                  Be aware of who might be left out, and try to find ways of reaching them. Try to be aware of what they don\'t mention, too.</li>\r                  <li>Ask similar organizations or networks. You will not be the first organization to try to reach those people. Who knows them (or people like them) already? They can help you understand the dynamics of your target audience. Has anyone done research? Are similar initiatives reaching that same population, and how did they go? Are there networks or community groups you can tap into where conversations with your target users are already happening?</li>\r                  <li>Conduct more structured research. Consider running more formal research, like focus groups or baseline surveys. If you have contact and a good relationship with the community of users, setting up small, half day focus groups can be an efficient way of getting more information. Surveys and questionnaires can be helpful for larger and more diverse groups, or when the types of users aren\'t clear, but will also cost time and money. Budget for this if you think you will need it.</li>\r              </ol>\r              \r              <h4>What don\'t you know, and how will you find out? </h4>\r              [--answer--]\r              <p><em>List out questions you wish you could answer. Then describe ways you might be able to get that information, through asking around or conducting more structured research. </em></p>\r              \r  \r  \r              \r          </div>\r      </div>\r      \r  </div>\r \r ',1,3),(6,6,'Who will use the tool?','<h3>Are you sure you know enough about your users? Think again.</h3><p>The next section lets you record what you have learned about your users. You can skip this part - but our research suggests that if you think deeper about your users, you will be more likely to get them to use your tool. There are also risks if you don\'t consider these questions:</p>\r  <blockquote>Case Study: \"The community asked me, if we\'re going to take part, then what\'s the incentive?...And we said, the incentive is the fact that you people are also participating in our projects, and we\'re already giving you all these freebies, and obviously saying, it\'s for your own benefit. Response rates to the project were very low.\"</blockquote>\r  \r  <p>Do you want to skip this step?</p>\r  \r  <a href=\"/project/slide/1.11?skipped\" class=\"btn btn-default btn-lg\">Yes (skip to recap)</a>&nbsp;<button class=\"btn btn-primary btn-lg\" type=\"submit\">No, let\'s go on</button>',1,1),(7,7,'Who will use the tool?','\n <p>Now that you\'ve had a chance to conduct some research, this section lets you summarize what you\'ve learned. The answers will be saved to the Tool Selection Assistant, where you can edit or export them at any time.</p>\n <p><em>(example: clinic users at the 35 clinics in our city: both women and men, aged 25-50. Many are on low incomes, and most of them have mobile phones - feature phone rather than smartphones.)</em></p>\n [--answer--]\n <p><em>Briefly describe your users according to age, gender, ethnicity, area of residence, level of education or any other category that makes sense.</em></p>\n <h3>Why does this matter?</h3>\n <p>Defining your users lets you focus on whether you are likely to be able to engage them, and what methods you should use to do it. Projects often told us that they regretted not spending more time on thinking about who would use the tool, and how they would use it.</p>',1,2),(8,8,'Who will use the tool?','<h3>Why would they be interested in using this type of tool?</h3>[--answer--]\r <p><em>Has the user group explicitly asked for this tool or anything like it? If not, what reasons do you have to think they would use the tool - what would they get out of it?</em></p>\r ',1,2),(9,9,'Who will use the tool?','\r<h3>Do users have any experience in using this type of tool? What tools are they already using?</h3>[--answer--]\r <p><em>Describe the tools that the group is already using, and for what purpose. </em></p>\r ',1,2),(10,10,'Who will use the tool?','<h3>Would anything prevent or deter users from using the tool? </h3>[--answer--]\r <p><em>Think about all the problems and considerations that could stop your tool being used. Will users need training or support to use it properly? Are there financial or bureaucratic problems that you can tackle in advance?</em></p>\r ',1,2),(11,11,'Recap','<div class=\"row\"><div class=\"col-md-7\"><p>Look back at the information you have submitted. Is anything missing?</p> <h3>Checklist</h3> <ul><li><a href=\"/project/slide/1.3\" class=\"ajx tsa-tooltip\">Project objective</a></li><li><a href=\"/project/slide/1.4\" class=\"ajx tsa-tooltip\">How a tool could help</a></li><li><a href=\"/project/slide/1.7\" class=\"ajx tsa-tooltip\">Description of user</a></li><li><a href=\"/project/slide/1.8\" class=\"ajx tsa-tooltip\">Incentives for using a tool</a></li><li><a href=\"/project/slide/1.9\" class=\"ajx tsa-tooltip\">Users skills and experience</a></li><li><a href=\"/project/slide/1.10\" class=\"ajx tsa-tooltip\">Obstacles</a></li></ul><p>Output your answers into a document that you can save or print, to show your answers to other people. <a href=\"/printer/output/[--project--]/[--step--]\" class=\"btn btn-primary printer\" target=\"_blank\"><i class=\"fa fa-cloud-download\"></i> Output</a> </p>\r  <p>It\'s always possible to do more research on your users, and this could improve your project\'s chances of success. But it may take more time and cost more money to get better information. If you have good enough information, move on to the next section. </p>\r   <p>If you know your project is complex and you need to do more research, go back to the research steps above. </p></div><div class=\"col-md-5\">\r         <p>You can also get help:</p><h3>Get Help</h3><p>If you want to spend more time researching your users, take a look at these resources:</p>\r   <ul><li><a href=\"http://www.google.com/url?q=http%3A%2F%2Ftech.transparency-initiative.org%2Ffundamentals%2Fappendix-ensuring-that-your-tech-project-is-usable%2F&sa=D&sntz=1&usg=AFQjCNG679TCbHfTOZk3mW2sDdSFzgWgrg\">The Transparency and Accountability Initiative\'s Fundamentals guide</a> gives more detail on thinking about your users.</li><li>Keystone Accountability\'s <a href=\"http://www.google.com/url?q=http%3A%2F%2Fwww.managingforimpact.org%2Fsites%2Fdefault%2Ffiles%2Fresource%2F3_learning_with_constituents_0.pdf&sa=D&sntz=1&usg=AFQjCNGhEX-79YcZxvcJhlGfUFDqUmhzqQ\">Learning from Constituents</a> offers detailed guidelines information on how to get information about your users, from surveys to formal dialogue processes.</li><li>The UK Government Digital Service\'s <a href=\"https://www.google.com/url?q=https%3A%2F%2Fwww.gov.uk%2Fdesign-principles&sa=D&sntz=1&usg=AFQjCNHu0HqeEvbcoHKB8z_2C5I389mEqA\">digital principles</a> and guide to <a href=\"https://www.google.com/url?q=https%3A%2F%2Fwww.gov.uk%2Fservice-manual%2Fagile%2Fwriting-user-stories.html&sa=D&sntz=1&usg=AFQjCNE0As9OtCI8S9rX3dAwTE8MGBhigA\">writing user stories</a>.</li></ul></div><div class=\"col-md-12\"><div class=\"alert alert-success\">Congratulations! you have completed the first step! Proceed to Step 2</div> </div></div> ',1,4),(13,1,'About this step ','      <h2>What this step will give you</h2>\n      \n      <p><b>Step 2 will help you record what you need from a tool and which tools could do the job. </b></p>\n      <p>It guides you through three tasks: </p>\n      <ul>\n        <li><b>Listing all the things you need your tool to do</b>.</li>\n        <li><b>Researching what tools already exist that do these things</b>, so that you can compare them with each other.</li>\n        <li><b>Finding other projects or organisations that have tried similar tools</b>, so that you can find out what has worked elsewhere and check whether a tool would actually work in your context.</li>\n      </ul>\n      <p>It will take around 30 minutes to complete Step 2. However, you will probably need to allow more time to step away and do more research: the Tool Selection Assistant will save your progress so that you can come back to it later.</p>\n      <p>When you have completed Step 2, the Tool Selection Assistant can create a PDF file with a description of your needs. You can use this to compare tools with each other and assess how well they fit your users\' needs.</p>\n      \n      <p>This section will give you three things: a list of all the things that your tool will need to do; a list of what tools already exist that do these things; and details of any other projects that have tried similar tools.</p>\n      <p>It will also give you a written description to check with the tool\'s potential users and compare tools with each other. </p>\n      <h3>What did the research say?</h3>\n      <ul>\n          <li>Organizations rarely looked at more than one tool, or did user research as well as tool research.</li>\n          <li>Most organizations stretched, and some completely exceeded, their capacity when adopting new tools. Initiatives often felt that they lacked enough expertise to make an informed choice.</li>\n          <li>Organizations that were confident about their ability to use technology were not always objective.</li>\n      </ul>\n  \n  \n      <p>Start by writing down all the things that your tool needs to be able to do. Try not to miss anything out - adding more features later can be expensive.</p>\n      <blockquote>Case Study: One organisation didn\'t mention several key features when it asked a technical provider to build it a tool, including whether it could integrate with their existing systems or work without internet access. The tool did not fulfil the organization\'s needs, and it is now looking for another technical provider. </blockquote>\n      <p>But resist the temptation to make your tool more complex than it needs to be. Focus on the essential features first, and try to find the easiest way of getting something that has those features. </p>\n      <p>If you\'re sure that you want more features, think hard about how much you really need them. Our research suggests that if you choose an overly complex set of features:</p>\n      <ul>\n      <li>You may find it harder to find an existing tool that fits your needs</li>\n      <li>If you are developing a tool for the purpose, it will be more expensive to develop</li>\n      <li>It will take more time for your users to learn how to use the features.</li>\n      <li>Start by looking at the tools you or your users are already using, do any of them be used to fit your needs?     </li>\n      </ul>\n      <blockquote>Case Study:An organisation wanted to build a platform that provided information for journalists to use in stories, and initially considered using WordPress. However, after assessing the tool they realised that they needed more functionality than Wordpress could provide and developed their own platform.</blockquote>\n      <blockquote>Case Study: \"We found that we could not use the existing SMS system that the organization had and was using for other purposes, due to security concerns and resistance from the IT team. So we had to build our own.\"</blockquote>\n  ',2,1),(14,2,'Specifying your requirements','\n  <h3>What things must the tool be able to do? </h3>\n  <p><em>example (for a contact database):  store names, email addresses and phone numbers; allow users to search for names; allow users to tag contacts with area of expertise </em></p>\n  \n  [--answer--]\n  \n  <p><em>Write down all the things that you need the tool to be able to do. Priorise the most important features by marking them [essential]. Mark less important features [desirable] or [nice to have] - and think hard whether you can manage without them.</em></p>\n  <h4>Why does this matter? </h4>\n  <p>Making a list of features focuses you on the most important things you need, and helps make sure you don\'t miss anything crucial.</p>\n  <blockquote>Case Study: An organization hired a developer to create a tool but didn\'t specify that it needed to allow offline access. The problem was only discovered late in the project, and the entire tool needed to be re-designed.</blockquote>\n  ',2,2),(15,3,'Finding options','<h3>What tools can you find that do these things?</h3>[--answer--]\r  <p>Write down as many tools as you can think of.</p>\r  <p>Start by listing any tools that your organization is using or has used before.</p>\r  <p>Then look for tools used by similar organizations.</p>\r  <p>Then write down tools used by people you know or have read about..</p>\r  <p>Looking for examples? Try these links for general <a href=\"https://www.google.com/url?q=https%3A%2F%2Fwww.thetoolbox.org%2Ftools&sa=D&sntz=1&usg=AFQjCNHvqbOuEa2bZk1rnGKhWRdizjMbPA\">overviews</a> of tools, mobile data collection (<a href=\"http://humanitarian-nomad.org/online-selection-tool/\">here</a> and <a href=\"http://solutionscenter.nethope.org/products-and-services#q/keywords=&num=10&channel=products&orderby=entry_date+desc&category=&inclusive_categories=no&pagination=P0\">here</a>), <a href=\"http://www.techsoup.org/support/articles-and-how-tos/choosing-a-mobile-device-what-to-look-for\">mobile devices</a>; <a href=\"http://schoolofdata.org/online-resources/\">tools for working with data</a>; visualisation tools, <a href=\"http://www.techsoup.org/support/articles-and-how-tos/tools-to-collect-and-analyze-field-data\">field survey data</a>, <a href=\"http://www.techsoup.org/support/articles-and-how-tos/few-good-online-survey-tools\">online survey tools</a>, web analytics tools, <a href=\"http://impacttrackertech.kopernik.ngo/\">sensors</a>, and <a href=\"http://www.techsoup.org/support/articles-and-how-tos/few-good-blogging-tools\">blogging platforms</a>. </p>\r  \r  <h4>Why does this matter?</h4>\r  <p>Many organizations did not know about tools that already existed that could have done the job they were looking for.</p>\r  <blockquote>Case Study: We didn\'t really use any criteria to make a decision on a specific platform. Next time we\'d do things differently by developing a custom SMS platform that allows for more active engagement. It would have been nice to know what options were out there.</blockquote>\r ',2,2),(16,4,'Finding use cases','<h3>What other projects have tried using these kinds of tools to do similar things?</h3>[--answer--]\r  <p><em>List any projects or organisations you can think of that have used technology tools to perform similar tasks. </em></p>\r  <p><em>Ask on mailing lists, or look in places like Results for Development\'s <a href=\"http://saatlas.org/\">Social Accountability Atlas</a>, Sunlight Foundation\'s <a href=\"https://docs.google.com/spreadsheets/d/1jP6WIkEPczb8MBn6DNOU2PhKp9Prwe4HokqhUQVsxE0/edit#gid=0\">list of organisations using Open Data</a> or Global Voices\' <a href=\"http://transparency.globalvoicesonline.org/\">Technology for Transparency network.</a> </em></p>\r  <h4>Why does this matter? </h4>\r  <p>Talking to someone who\'s already used a tool for the same purpose saves time and effort: it can help you rule out tools that aren\'t right for you, give you tips on how to use a tool in a better way, or throw up ideas that you might never have thought of.</p>\r  <blockquote>Case Study: \"In the UK we saw the website of a peer organisation and saw what others in similar monitoring networks were working on. We actively communicate with and gather information from a range of peer organisations in other countries, and this contributed to changes and additional functions.\" </blockquote>\r  ',2,2),(17,5,'Thinking through the risks','<h3>What could go wrong? How can you prepare for risks?</h3><h4>Map threats</h4>\r <p>Make a list of all the things that could threaten the project\'s success. For example:</p>\r <ul>\r     <li>the tool takes much longer to use than we planned for</li>\r     <li>we might not have the human resources to keep using it after the pilot period;</li>\r     <li>the tool is too expensive or complicated for the target users to use.</li>\r </ul>\r \r <h3>Impact</h3>\r <p>Give each threat a rating (very low/low/medium/high/very high) according to how serious the impact it would affect the project.</p>\r <h3>Likelihood</h3>\r Then rate how likely each of this threats is to happen (very low/low/medium/high/very high).</p>\r <h3>Select the highest priority threats</h3>\r Find the threats that are most likely and would have the greatest impact on the project.</p>\r <h3>Plan how you will prepare for them</h3>\r Think of any ways you can prepare in advance. Include ways of preventing the threat in the first place, or reducing its impact if it does happen.</p>\r \r [--answer--]',2,2),(18,6,'Buy, adapt or build','<p>Start by thinking realistically about what your organisation is capable of. Innovative or complex tools can sometimes make your work much more effective, but only if your organisation has the time, resources and skills to use them effectively.</p>\n<h2>Using an existing tool</h2> \n<p>Using a tool that already exists is often a good idea for simple, well-defined tasks, or situations where you don\'t have a lot of time or resources to spare. (Even if do you have the technical skills and money, remember that the simplest option is often the best.) It is also easier to test beforehand.</p>\n<h3>Things to check</h3>\n<p>Does the tool really cover all your needs? If your situation is likely to change and you have to alter the tool to adapt, can you do so?</p>\n<p>Look closely at the organisations or networks that maintain the tools: are they reliable? What would you do if they stopped offering the service?</p>\n<h2>Building or adapting your own tool</h2>\n<p>Sometimes, your needs may be so specific that no existing tool can fulfil them. In these situations, building your own or adapting it might be necessary. If done right, this can give you exact features you need in a way that\'s efficient and easy to use. But double-check first - existing tools might have functions that you don\'t know about.</p>\n<h3>Things to check</h3>\n<p>Do your staff already have the technical skills needed to build a tool, or will you need to hire external support? Do you already know technical providers who you could work with? (This guide has more information on choosing technical support later). If your staff will be building or maintaining it themselves, do you have the resources to train them - and might this distract them from more important tasks?</p>\n<h1>Decisions</h1>\n<p>Now, decide whether you need to use an existing tool, adapt one or build a new one. (Remember, you can always go back and change your response.)</p>\n<div class=\"row\">\n    <div class=\"col-md-4\">\n        <div class=\"radio\">\n            <label>\n                <input type=\"radio\" name=\"choice\" class=\"choice\" id=\"choice26-1\" value=\"Existing tool\" class=\"choice\"> Use existing tool\n            </label>\n        </div>\n    </div>\n    <div class=\"col-md-4\">\n        <div class=\"radio\">\n            <label>\n                <input type=\"radio\" name=\"choice\" class=\"choice\" id=\"choice26-2\" value=\"Adapt existing tool\" class=\"choice\"> Adapt existing tool\n            </label>\n        </div>\n    </div>\n    <div class=\"col-md-4\">\n        <div class=\"radio\">\n            <label>\n                <input type=\"radio\" name=\"choice\" class=\"choice\" id=\"choice26-3\" value=\"New tool\" class=\"choice\"> Build new tool\n            </label>\n        </div>\n    </div>\n</div>\n',2,3),(19,7,'Recap','<p>Look back at the information you have submitted. Is anything missing?</p>\n  <h3>Checklist</h3>\n  <ul>\n     <li><a href=\"/project/slide/2.2\" class=\"ajx tsa-tooltip\">Tool functionalities</a></li>\n     <li><a href=\"/project/slide/2.3\" class=\"ajx tsa-tooltip\">What tools already exist</a></li>\n     <li><a href=\"/project/slide/2.4\" class=\"ajx tsa-tooltip\">What other projects have used these tools?</a></li>\n     <li><a href=\"/project/slide/2.5\" class=\"ajx tsa-tooltip\">What could go wrong? How can you prepare for risks?</a></li>\n     <li><a href=\"/project/slide/2.6\" class=\"ajx tsa-tooltip\">Deciding whether to buy, adapt or build a tool</a></li>     \n  </ul>\n  <p>Output your answers into a document that you can save or print, to show your answers to other people. <a href=\"/printer/output/[--project--]/[--step--]\" class=\"btn btn-primary printer\" target=\"_blank\"><i class=\"fa fa-cloud-download\"></i> Output</a> </p>\n  \n  <p>If you think that your information is good enough, move on to the next section. </p>\n  <p>If you know your project is complex and you need to do more research, look elsewhere to help.</p>\n  <hr />\n  \n  <h3>Get Help</h3>\n  <p>If you want to spend more time finding out what tools are available, take a look at these resources:</p>\n     <ul>\n         <li><a href=\"https://socialsourcecommons.org/\">Social Source Commons</a> and New Organizing Institute\'s <a href=\"http://archive.neworganizing.com/toolbox/\">Organizer\'s Toolbox</a> collect tools and accompany them with descriptions and links.</li>\n <li>Ask on forums such as the e-Campaigning Forum (<a href=\"http://fairsay.com/networks/ecampaigning-forum\">ECF</a>) and the Non-Profit Technology Network (<a href=\"http://www.nten.org/event/webinar-networking-with-people-for-it-professionals/\">NTEN</a>).</li>\n <li>Pro bono sources of help include <a href=\"http://www.kabissa.org/\">Kabissa</a>, an Africa-specific peer network offering resources to improve the use of ICT in community orgs; <a href=\"http://www.datakind.org/\">DataKind</a>, which creates teams of data scientists who work together with non-profit organisations to help them solve problems involving data; <a href=\"http://www.doinggoodfellows.org/\">DoingGood Fellows</a>, which connects non-profits with professionals who have technology skills; and <a href=\"http://datalook.io/\">Data Look</a>, an online community for people using data to address social problems.</li>\n  </ul>\n <div class=\"row\">\n     <div class=\"col-md-12\"><div class=\"alert alert-success\">Congratulations! you have completed the second step! Proceed to Step 3</div> </div>\n </div>\n ',2,4),(20,1,'About this step','<p><b>Step 3 will help you plan a trial to check whether a tool is right for you</b>. It gives you a space to record the trial results, and any changes that you might need to make. Our research suggests that trying a tool out will improve your chances of success.</p><p>This Step guides you through three tasks: </p><ul><li><b>Planning a trial for your tool</b>. Even if you\'ve decided to build a new tool, try some existing tools first: you will learn more about what your tool needs to do. Have some target users try out the tool, and replicate the conditions the tool will be used in as far as possible.</li><li><b>Recording what you have found</b>, including whether you have checked the tool with the people you expect to use it.</li><li><b>Deciding what you will do differently</b> as a result of the trial and its findings.</li></ul><p>It will take around 20 minutes to read through Step 3. However, you will probably need to allow more time to step away and do more research: the Tool Selection Assistant will save your progress so that you can come back to it later.</p><p>When you have completed Step 3, the Tool Selection Assistant can create a PDF file with a description of your trial, and the things that you know you need to change. &nbsp;To create a PDF, make sure to register and log in.</p>\n <h3>What did the research say?</h3>\n <ul>\n     <li>Hands-on experience with a tool helped organizations determine whether it met their needs before they committed to it.</li>\n     <li>Even when an organization found the tool they tried wasn\'t right, they often learned more about what the \'right\' tool should do.</li>\n     <li>When trialling did help the organisation, it was often because they had only tried it with people who were different from their intended target user.</li>\n </ul>',3,1),(21,2,'About this step','<p>Remember: one of the most common problems organisations described was that people did not use the tool they chose. This is a risk in any project - but you can limit it by asking a small group to try the tool out before you decide to adopt it. Hearing what the tool is really like to use - and whether the users actually want to use it - will point out key assumptions.</p>\n<p>In general, the more thoroughly you trial, the more prepared you will be. However, you may not be able to put aside the time for detailed trials. If your resources are limited, our research suggests that it is better to hold a short, simple trial than none at all. Getting feedback from a carefully selected group of target users does not have to take much time, and could pay dividends later on.</p>\n<blockquote>\nCase Study: \"[Our original] tool did not work, but we rebuilt it based on learnings: and that is working and being implemented.\"\n</blockquote>\n<p>It\'s also crucial to make sure that the people who test it are the same as the people you want to use the tool. </p>\nTrying it out yourself (or with people like you) will still be useful, but you might miss important differences between what you want and what your users want. For example, you might find some features easier to understand than your users, or prefer using PCs when your users prefer using smartphones. Several projects experienced made just these mistakes, but only realised it too late. </p>\n<blockquote>Case Study: A member of one organisation, reflecting on the fact that few people used the platform they had developed, said: \"Treating myself as a typical test user was a mistake. Testing [it] with users before the launch would have pointed out many of the flaws.\"</blockquote>\n',3,1),(22,3,'Planning a trial','\n<p>A good trial lets you get to the key decisions quickly: keep it simple and tightly focused. </p>\n<h2>Time</h2> \n<p>Set a limit on the time that you trial each tool, depending on the complexity of the tool. A simple social media tool could be trialled in two hours if only one person is using it, but a system to collect complaints submitted online and by telephone in three regions will take longer because there is more to test (users from different regions will need to trial it, and more technical things could go wrong). </p>\n<h2>Choosing your test users</h2>\n<p>Pick a small group of people that have characteristics similar to the people you want to use the tool. Ideally, these should be people you know well and have worked with before. Make sure they understand the basics of how to use the tool before starting the trial, and note andy things that they find difficult to understand. </p>\n<h2>Find simple ways of trialling tools</h2>\n<h3>Existing tools </h3>\n<p>Some software is available for free or on a \'freemium\' package (where you only pay for high levels of usage). Even programmes that you buy outright usually have a free trial version.</p> \n<h3>Tools you are building yourself</h3>\n<p>Even if you have decided to build a new tool from scratch, try to trial a similar existing tool before you make the final decision. You will still learn a lot about what features you need - and what you don\'t.</p>\n<blockquote>\nCase Study: An organisation reflected after a short trial period: \"There are some lessons that we have learnt... maybe some features we included aren\'t very necessary and we can omit them.\"\n</blockquote>\n\n<h2>Define your test questions beforehand</h2>\n<p>Tell your trial group what questions you will be asking in advance, focusing on </p>\n<ul>\n    <li>General impressions: ask open questions like \'How do you find using it\'? </li>\n<li>Ease of use: which was most straightforward to learn and use?</li>\n<li>Reliability: did everything work throughout the trial?</li>\n<li>What would they change: Was the tool slow to use? Were any features missing that they would have liked?</li>\n    \n    \n</ul>\n',3,1),(23,4,'Planning a trial','[--answer--]\n<p>Write down the method that you will use to trial the tool or tools.</p>\n<p>Instruction: go away and trial your tool(s). If you have logged in, your progress will be saved here.</p>\n<p>Record the feedback, and summarise it in the box on the next page.</p>\n',3,2),(24,5,'Documenting your learnings','<h3>What did you learn from the trial?</h3>[--answer--]\r <p><em>Add the key things you discovered by conducting a trial. Is the tool suitable? </em></p>\r <p>If the tool has any limitations that you can\'t get around, consider other options.</p>\r ',3,2),(25,6,'Applying your learnings','<h3>Next steps: Do you need to change anything after the trial?</h3>[--answer--]\r <p><em>Add the key things you discovered by conducting a trial. Is the tool suitable? Do you need to change anything? Will users need training or support to use it well?</em></p>\r <blockquote>Case Study: \"It was during these trials that I noticed two or three failures [in the tool]. So I said, you know what? I need to be trained. So I went for a training with the provider and the guy from the IT department who was operating the system, so that I could understand what was happening and what was going on.\"</blockquote>\r ',3,2),(26,7,'Recap','<p>Look back at the information you have submitted. Is anything missing?</p>\n  <h3>Checklist</h3>\n  <ul>\n     <li><a href=\"/project/slide/3.4\" class=\"ajx tsa-tooltip\">Methods for trialling</a></li>\n     <li><a href=\"/project/slide/3.5\" class=\"ajx tsa-tooltip\">Lessons learned following trial</a></li>\n     <li><a href=\"/project/slide/3.6\" class=\"ajx tsa-tooltip\">Steps to be taken following trial</a></li>\n  </ul>\n \n <p>Output your answers into a document that you can save or print, to show your answers to other people. <a href=\"/printer/output/[--project--]/[--step--]\" class=\"btn btn-primary printer\" target=\"_blank\"><i class=\"fa fa-cloud-download\"></i> Output</a> </p>\n  \n <div class=\"col-md-12\"><div class=\"alert alert-success\">Congratulations - you have completed Step 3!</div></div>\n \n <hr />\n <h2>Next steps</h2>\n     <div class=\"row\">\n         <div class=\"col-md-6\">\n             <h4>Do you think that you know enough to choose a tool?</h4>\n             <div class=\"radio\">\n                 <label>\n                     <input type=\"radio\" name=\"choice[1]\" value=\"yes\"> Yes\n                 </label>\n             </div>\n             <div class=\"radio\">\n                 <label>\n                     <input type=\"radio\" name=\"choice[1]\" value=\"no\"> No\n                 </label>\n             </div>\n         </div>\n         <div class=\"col-md-6\">\n             <h4>Do you think that you know enough to implement a tool on your own?</h4>        \n             <div class=\"radio\">\n                 <label>\n                     <input type=\"radio\" name=\"choice[2]\" value=\"yes\"> Yes\n                 </label>\n             </div>\n             <div class=\"radio\">\n                 <label>\n                     <input type=\"radio\" name=\"choice[2]\" value=\"no\"> No\n                 </label>\n             </div>\n         </div>\n         \n     </div>',3,4),(27,1,'About this step','<h3>What kind of help do you need?</h3><p><b>Step 4 will help you decide what you need from a technical partner or adviser, get ideas on where to find support, and make a plan to work well with them</b>. </p><p>If you want to use a tool that already exists, you might not need any technical assistance – but you could need a partner if you want to build a new tool or adapt one.</p><p>This Step guides you through four tasks: </p><ul><li><b>Deciding what kind of help you need</b>: Do you need a technical partner, or do you just need some technical advice? Relying too heavily on a partner can be risky, especially if you haven’t managed a relationship like this before. Before you take this route, consider again whether an existing tool wouldn’t be ‘good enough’ or if you couldn’t put more effort into building up your own capacity.</li><li><b>Finding the right technical partner or adviser for you</b> by asking your contacts for recommendations and asking potential partners for references.</li><li><b>Building your own technical capacity</b> and considering budgeting for training or hiring additional staff members.</li><li><b>Setting up a good working relationship</b>: making the effort to get a productive, open relationship with a partner or adviser by agreeing on clear expectations, roles and responsibilities; ensuring you get clear answers from the provider on what is possible; and designing regular feedback intervals. </li></ul><p>It will take around 20 minutes to read through Step 4. However, you will probably need to allow more time to step away and do more research: the Tool Selection Assistant will save your progress so that you can come back to it later.</p><p>When you have completed Step 4, the Tool Selection Assistant can create a PDF file with a description of your trial, and the things that you know you need to change. &nbsp;To create a PDF, make sure to register and log in.</p>\r  <h3>What did the research say?</h3>\r  <ul>\r      <li>Many organisations gave a partner responsibility for choosing the right tool, which had both positive and negative consequences. </li>\r      <li>Many organisations had relationships with tech providers that were difficult to manage. There were often long delays, bugs in tools, tools not meeting expectations, and communication challenges. Many had to terminate their relationships several times.</li>\r      <li>Developing a new tool from scratch usually took much longer than expected. </li>\r  </ul>\r  ',4,1),(28,2,'Deciding what kind of help you need','<p>Choose all areas that apply:</p>\n<ul>\n    <li>\n        <div class=\"checkbox\">\n            <input type=\"checkbox\" name=\"answer[1]\" id=\"checkbox42-1\" value=\"Advising on how to choose or use a tool\"> Advising on how to choose or use a tool\n        </div>\n    </li>\n    <li>\n        <div class=\"checkbox\">\n            <input type=\"checkbox\" name=\"answer[2]\" id=\"checkbox42-1\" value=\"Building a tool\"> Building a tool\n        </div>\n    </li>\n    <li>\n        <div class=\"checkbox\">\n            <input type=\"checkbox\" name=\"answer[3]\" id=\"checkbox42-1\" value=\"Help adapting an existing tool\"> Help adapting an existing tool\n        </div>\n    </li>\n    <li>\n        <div class=\"checkbox\">\n            <input type=\"checkbox\" name=\"answer[4]\" id=\"checkbox42-1\" value=\"Implementing and managing a tool\"> Implementing and managing a tool\n        </div>\n    </li>\n    \n</ul>\n\n<p><em>When you seek help, be clear about what you need. If you are talking to an individual or organisation that makes their living building software, but only want general advice rather than a finished product, be clear about that. </em></p>\n',4,2),(29,3,'Deciding what kind of help you need','<h3>What does your ideal technical partner or adviser need to be able to do?</h3>[--answer--]\r <p>What skills does your partner or adviser need? Write down any areas where you think you will need external support. Some organisations or individuals are particularly good at some types of activities, and less good at others. </p>\r <p>Do they need to be in the same city, region or country as you? Sometimes you may want a local consultant who can give you face-to-face support, but this could severely limit the number of choices you have. </p>\r <p>Do you need a generalist or a specialist? If you\'re starting to use a new technology, a consultant or organisation with a broad range of skills may know enough to get you started. If your project is complex, a specialist with more in-depth knowledge may be a better option. However, if you realise later that a project demands skills from another area, you might need to hire more than one external expert or organisation. </p>',4,2),(30,4,'Finding people who can help','<p>Organisations sometimes struggle to find a range of partners to choose from. </p>\r  <div class=\"col-md-6\">\r           <div class=\"radio\">\r               <label>\r                   <input type=\"radio\" name=\"choice\" class=\"choice\" id=\"choice44-1\" value=\"Advising on how to choose or use a tool\">\r                   Advising on how to choose or use a tool           \r               </label>\r           </div>\r       </div>\r       <div class=\"col-md-6\">\r           <div class=\"radio\">\r               <label>\r                   <input type=\"radio\" name=\"choice\" class=\"choice\" id=\"choice44-2\" value=\"Building a tool, Help adapting a tool, Building and managing a tool\">\r                   Building a tool, Help adapting a tool, Building and managing a tool\r               </label>\r           </div>\r       </div>\r      <div class=\"col-md-12\">\r          <div class=\"choice-text\" id=\"choice44-1-text\">\r              <h3>Start with people and organisations you know</h3>\r              <p>Does anyone you know have contacts that they recommend? Ask at least two different people or organisations, if you can. However, bear in mind that even these contacts may have only limited knowledge of the specific areas where you need help. The steps below suggest some other places to look.</p>\r              \r              <h3>Been there, done that</h3>\r              <p>Contact organisations on the list of similar projects you created in Step 2. <a class=\"ajx tsa-tooltip\" href=\"/project/slide/2.4\">Slide 2.4</a>  Email them or call them directly, and ask them if they would recommend anyone - and if there is anyone that they would avoid.</p>\r              \r              <h3>If you can\'t find what you need, search more widely</h3>\r              <p>Visit any technology hubs or centres that exist in your area, and ask people there for advice. Try to ask at least two people or groups. \r              <p>Look for relevant events in your city, and talk to people there. Phrases to look for include \'civic technology\', and \'tech for good.\'\r              <p>Ask donors or funding partners.</p>\r              <p>Ask university computer science departments, academic researchers or other research groups that work on ICT for development (ICT4D)-related areas.</p>\r          </div>\r          \r          \r              \r              \r              \r              \r              <div class=\"choice-text\" id=\"choice44-2-text\">    \r              \r              <h3>Start with people and organisations you know</h3>\r              <p>Does anyone you know have contacts that they recommend? Ask at least two different people or organisations, if you can. However, bear in mind that even these contacts may have only limited knowledge of the specific areas where you need help. The steps below suggest some other places to look.</p>\r              \r              <h3>Been there, done that </h3>\r              <p>Contact organisations on the list of similar projects you created in Step 2. [Show content entered in slide 2.4]  Email them or call them directly, and ask them if they would recommend anyone - and if there is anyone that they would avoid.</p>\r              \r              <h3>Create a request for proposals</h3> \r              <p>Requests for proposals, or tenders, are a way of asking organisations to propose how they could meet your needs. This can be a way of finding support from outside your existing networks. TechSoup offers a guide to producing and publicising requests for proposals.</p>\r              \r              <h3>If you can\'t find what you need, search more widely</h3>\r              <p>Visit any technology hubs or centres that exist in your area, and ask people there for advice. Try to ask at least two people or groups. </p>\r              <p>Look for relevant events in your city, and talk to people there. Phrases to look for include \'civic technology\' or \'technology for good\'.</p>\r              <p>Talk to your donors or funding partners, and ask them for ideas.</p>\r              <p>Ask university computer science departments, academic researchers or other research groups that work on ICT for development (ICT4D)-related areas.</p>\r              \r              <p>Get references! Before choosing a provider or an existing tool, talk to people (preferably more than one) who have worked with them before. Ask about their technical skills, work practices, communications and charging rates.</p>\r              </div>\r      </div>\r         <h3>Who could help you do this?</h3>[--answer--]\r  <p><em>Make a list of all the organisations or individuals that you think you might be able to work with.  </em></p>',4,3),(31,5,'Building your own capacity','<h3>Could you hire or train staff to gain these skills yourself? How?</h3>[--answer--]\r <p><em>Before going any further, ask whether you can build up the missing skills within your organisation so that you can choose the tool yourself. Think about whether you have the time and resources to gain these skills. (It may not be possible.) Could they be used in areas outside the project itself?</em></p>\r <blockquote>CASE STUDY: An organisation chose a service provider to implement a tool, and expected them to have a technical understanding of the tool. The member of the organisation then had to include the organisation\'s own IT team, which did not understand the content of the project. Eventually, they took part in a training session on the tool, which helped them to understand more about how it worked.</blockquote>\r <blockquote>CASE STUDY: An organisation designed an interactive website by hiring a dedicated staff member, which meant that they could gain control over the design and the uploading of content to the site. \"It\'s very challenging to have a website built where other staff have to keep supplying content to a developer maintaining the site...The website is doing a lot of work. Great stuff.\"</blockquote>\r ',4,2),(32,6,'Engaging with a partner','<p>When you have a set of organisations or individuals that could help you select and implement a tool, start talking to them about what they can offer. Ask the following questions about each organisation you are considering. </p>\n<h3>Skills</h3>\n<ul>\n    <li>Do they have technical skills that are appropriate for the project? </li>\n    <li>Have they done a project like this before?</li>\n    <li>Are they able to commit as much time as the project needs? How many projects will they be handling at the same time?</li>\n    <li>Do they have any biases? For example, do they only promote one tool rather than a range of different options?</li>\n    \n</ul>\n\n\n\n\n<h3>Fit with your organisation</h3>\n<ul>\n    <li>How well do they understand your organisation\'s objectives? </li>\n    <li>Are they used to working with organisations like yours?</li>\n<li>Do they understand the needs of the tool\'s users?</li>\n<li>Are they in the same city, region or country as you (if that is a necessary factor)?</li>\n    Do they have any political alignments that might be problematic?</li>\n</ul>\n<p>If a partner does not understand your work well, then they may make recommendations or decisions that prevent your project from achieving its goals.  </p>\n\n<blockquote>CASE STUDY: We knew that we’d need a platform with certain features, and we introduced those features to [the potential provider]. [They] met all of the criteria that we had outlined: all the features we were looking for, everything we needed, and it was appropriate for the intended audience. So we decided just to move forward with them… It was easy to use, both for us and for the people we work with.</blockquote>\n\n<p>When you feel you have enough information, summarise it in the box below.</p>\n<p></p>Which technical partners or advisers best fit your needs, and why?</p>\n[--answer--]\n\n<p><em>List the organisations you feel most comfortable about working with. Use the questions above to help. Explain the reasons why.</em></p>\n\n<blockquote>CASE STUDY: An organisation created a request for proposals and selected the technical provider with the lowest offer, which never finished the database it had been contracted to set up. The organisation then tried two other suppliers and wished it had spent more time and money on choosing a technical partner that properly met their needs.</blockquote>\n',4,2),(33,7,'Choosing a partner','<p>Do you know enough to choose a partner? If not, go back to the questions above and do more research. </p>\n<p>If you have chosen them, complete the box below.</p>\n<p>What technical partner or adviser have you chosen? Why?</p>\n[--answer--]\n<blockquote>CASE STUDY: \"[One of our partner organizations\'] strength with research and data, and its familiarity and demographic knowledge of [the city], led to the decision of which area of the city to focus the pilot project on.\"</blockquote>',4,2),(34,8,'Working with a partner','<p>Working well with a technical provider means putting effort into keeping your working relationship on track. Write down roles that everyone on the project agrees to. These should state each person or organisation\'s responsibilities, who they report to, and deadlines for each task. </p>\n\n<blockquote>CASE STUDY: An organisation partnered with another organisation to use SMS to help citizens participate in the budgeting process. However, the technical partner organisation managed the entire process, and when the project ended the organisation was unable to continue it themselves. </blockquote>\n\n<p>Think about what could go wrong in advance, and raise issues before you agree to work together. Ask these questions in advance:</p>\n\nCan you train our organisation\'s staff to use the tool?\n<ul>\n    <li>Will we be able to use it and maintain ourselves without your help? </li>\n    <li>If we need more control of some aspects of the project later on, would you be able to accommodate that?</li>\n    <li>What will happen when the project ends? </li>\n    <li>What happens if we need to end the relationship early? Can we break the project into phases and review progress at the end of each phase?</li>\n</ul>\n\n<blockquote>CASE STUDY: An organisation found that they were too dependent on their technical provider:  \"We\'d tell guys an SMS was coming in the morning, and then all afternoon they would have time to engage more people in participating. But the SMS messages were not sent until the end of the day.\"<br />\nThe organisation was also unable to combine two key aspects of their program - an SMS campaign and a scorecard - because the technical provider had other commitments that prevented them from responding in a timely way. <br />\n\"The biggest lesson is that the best thing is for the organization to run the tool itself. But even if you outsource, you still need more control, more knowledge, more control.\"</blockquote>\n\n<p>Decide who needs to have input in each aspect of the tool implementation. For some areas, it may make sense for the partner providing technical support to lead. In others, being unable to access information or make changes could slow the project down or make it less effective. </p>\n\n<p>Ask yourself these questions:</p>\n\n<ul>\n    <li>Which areas do you need to have complete control over?</li>\n<li>Which areas do you need to be able to have a say, but are happy to let the technical partner lead?</li>\n</ul>\n<blockquote>CASE STUDY: An organisation decided that they needed a new website that was easier to use for individual citizens, and so approached an international organisation with experience in that area. This process was slow: it took around one year between first contacting the organisation and the launch, and the international organisation was busy supporting other organisations, meaning that they were sometimes slow to respond to requests for help.</blockquote>\n\n\n<hr />\n\n<h3>GET HELP</h3>\n<p>Do you need more help to find the right technical partner? Try these resources.</p>\nTechSoup offers a <a href=\"http://www.techsoup.org/support/articles-and-how-tos/overview-of-the-rfp-process\">guide</a> to producing and publicising requests for proposals, and <a href=\"http://www.techsoup.org/support/articles-and-how-tos/how-to-choose-and-work-with-technology-consultants\">advice</a> on choosing consultants.</p>\n<p>Aspiration provide a <a href=\"https://aspirationtech.org/training/workflow/templates/rfp\">free template</a> for requests for proposals.</p>\n',4,1),(35,9,'Recap',' <p>Look back at the information you have submitted. Is anything missing?</p>\r  \r  <h3>Checklist</h3>\r  <ul>\r      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.2\">What do you need help with?</a></li>\r      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.3\">What should the partner or adviser be able to do?</a></li>\r      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.4\">Which technical partners are out there?</a></li>\r      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.5\">Which technical partners fit well with your needs?</a></li>\r      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.6\">Name of partner chosen</a></li>\r  </ul>\r  \r  \r  <p>Output your answers into a document that you can save or print, to show your answers to other people. <a href=\"/printer/output/[--project--]/[--step--]\" target=\"_blank\" class=\"btn btn-primary\"><i class=\"fa fa-cloud-download\"></i> Output</a> </p>\r  \r  <p>If you have all the information you need, you are ready for the final step!</p>',4,4),(36,10,'Final recap - choose the tool','<div class=\"alert alert-success\">\n     <h2>Congratulations! you have completed the Tool Selection Assistant.</h2>    \n </div>\n  \n  <p>You have collected information that can help you make a more informed, methodical choice for an effective tool. Review it all here: </p>\n  Checklist\n  \n  <li>Understand your needs</li>\n      <li><a href=\"/project/slide/1.3\" class=\"ajx tsa-tooltip\">Project objective</a></li>\n      <li><a href=\"/project/slide/1.4\" class=\"ajx tsa-tooltip\">How a tool could help</a></li>\n      <li><a href=\"/project/slide/1.7\" class=\"ajx tsa-tooltip\">Description of user</a></li>\n      <li><a href=\"/project/slide/1.8\" class=\"ajx tsa-tooltip\">Incentives for using a tool</a></li>\n      <li><a href=\"/project/slide/1.9\" class=\"ajx tsa-tooltip\">Users skills and experience</a></li>\n      <li><a href=\"/project/slide/1.10\" class=\"ajx tsa-tooltip\">Obstacles</a></li>\n      <li>Understand the tech</li>\n      <li><a href=\"/project/slide/2.2\" class=\"ajx tsa-tooltip\">Tool functionalities</a></li>\n      <li><a href=\"/project/slide/2.3\" class=\"ajx tsa-tooltip\">What tools already exist</a></li>\n      <li><a href=\"/project/slide/2.4\" class=\"ajx tsa-tooltip\">What other projects have used these tools?</a></li>\n      <li><a href=\"/project/slide/2.5\" class=\"ajx tsa-tooltip\">What could go wrong? How can you prepare for risks?</a></li>\n      <li><a href=\"/project/slide/2.6\" class=\"ajx tsa-tooltip\">Deciding whether to buy, adapt or build a tool</a></li>     \n      <li>Try it out</li>\n      <li><a href=\"/project/slide/3.4\" class=\"ajx tsa-tooltip\">Methods for trialling</a></li>\n      <li><a href=\"/project/slide/3.5\" class=\"ajx tsa-tooltip\">Lessons learned following trial</a></li>\n      <li><a href=\"/project/slide/3.6\" class=\"ajx tsa-tooltip\">Steps to be taken following trial</a></li>\n      <li>Choose a partner</li>\n      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.2\">What do you need help with?</a></li>\n      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.3\">What should the partner or adviser be able to do?</a></li>\n      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.4\">Which technical partners are out there?</a></li>\n      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.5\">Which technical partners fit well with your needs?</a></li>\n      <li><a class=\"ajx tsa-tooltip\" href=\"/project/slide/4.6\">Name of partner chosen</a></li>\n  </ul>\n  \n  \n  <h3>You can use this information:</h3>\n  <ul>\n      <li>as a planning document to remind you what to prioritise.</li>\n      <li>to explain to your colleagues what you want the tool to do, in simple language.</li>\n      <li>to quickly show people outside your organization what you\'re looking for - so they can give advice or technical support</li>\n      <li>to show potential donors or partners that you\'ve really thought through your project.</li>\n  </ul>\n  <p>Output your answers into a document that you can save or print, to show your answers to other people. <a href=\"/printer/output/[--project--]/all\" class=\"btn btn-primary printer\" target=\"_blank\"><i class=\"fa fa-cloud-download\"></i> Output</a> </p>\n  <h3>Let us know how it went</h3>\n  <p>\n  We\'d love to hear how the tool selection process went, and whether the tool you chose suited your needs. Was the Tool Selection Assistant helpful? Was anything missing? Let us know on <a href=\"mailto:tom@theengineroom.org\">tom@theengineroom.org</a>, <a href=\"mailto:Indra.DeLanerolle@wits.ac.za\">Indra.DeLanerolle@wits.ac.za</a> or <a href=\"mailto:sasha@kenyanikwetu.org\">sasha@kenyanikwetu.org</a>. \n  </p>',4,4);
                /*!40000 ALTER TABLE `slide_list` ENABLE KEYS */;
                UNLOCK TABLES;
                
                CREATE TABLE `slides` (
                  `idslides` int(11) NOT NULL AUTO_INCREMENT,
                  `project` int(11) NOT NULL,
                  `step` int(11) NOT NULL,
                  `slide` int(11) NOT NULL,
                  `extra` text,
                  `answer` text,
                  `choice` varchar(120) DEFAULT NULL,
                  `status` tinyint(4) NOT NULL DEFAULT '0',
                  `created_at` timestamp NULL DEFAULT NULL,
                  `modified_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                  PRIMARY KEY (`idslides`),
                  KEY `idxSlideProject` (`project`),
                  KEY `idxSlideStep` (`step`),
                  KEY `idxSlideSlideList` (`slide`),
                  CONSTRAINT `fkSlideProject` FOREIGN KEY (`project`) REFERENCES `projects` (`idprojects`) ON DELETE CASCADE ON UPDATE NO ACTION,
                  CONSTRAINT `fkSlideSlidelist` FOREIGN KEY (`slide`) REFERENCES `slide_list` (`idslide_list`) ON DELETE NO ACTION ON UPDATE NO ACTION,
                  CONSTRAINT `fkSlideStep` FOREIGN KEY (`step`) REFERENCES `steps` (`idsteps`) ON DELETE NO ACTION ON UPDATE NO ACTION
                ) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8;
                
                CREATE TABLE `pages` (
                    `idpages` int(11) NOT NULL AUTO_INCREMENT,
                    `title` varchar(255) NOT NULL,
                    `contents` text,
                    `url` varchar(255) NOT NULL,
                    `created_at` timestamp NULL DEFAULT NULL,
                    `modified_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                    PRIMARY KEY (`idpages`)
                ) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
                
                LOCK TABLES `pages` WRITE;
                /*!40000 ALTER TABLE `pages` DISABLE KEYS */;
                INSERT INTO `pages` VALUES (1,'Tool Selection Assistant','', 'homepage', NOW(), NOW()),(2,'Choosing the right tool','','choosing-the-right-tool', NOW(), NOW()),(3,'Get Help!','','get-help', NOW(), NOW()),(4,'Research Report','','research-report', NOW(), NOW());
                /*!40000 ALTER TABLE `slide_list` ENABLE KEYS */;
                UNLOCK TABLES;
            ";
            
            $dns = DBTYPE . ':dbname=' . DBNAME . ';host=' . DBHOST . ';charset=utf8';
            $PDO = new PDO($dns, DBUSER, DBPASS);
            $PDO->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);
            $noDb = false;
            
            try{ 
                $create = $PDO->exec($sql);
            }
            catch(PDOException $e) {
                $noDb = true;
                $response[] = '<div class="alert alert-danger"><i class="fa fa-times"></i> <strong>Could not create tables and data!</strong> DB Error: ' . $e->getMessage() . '</div>';
            }            
            if( !$noDb )  {
                $response[] = '<div class="alert alert-success"><i class="fa fa-check"></i> Database tables and data all set up!</div>';
                $data = array(  'name'     => $user,
                                'email'    => $mail,
                                'password' => crypt($pass, '$1$'.SECRET),
                                'role'     => 'root'
                            );
                
                $User = new User;
                $Session = new Session;
                
                $idUser = $User->create($data);
                if($idUser){
                    $Session = new Session;
                    $Session->createSession($idUser);                    
                    $response[] = '<div class="alert alert-success"><h2><i class="fa fa-check"></i> User created successfully!</h2><p>Everything went right. Isn\'t that nice? Please remember to remove this file from your online directory.</p></div>';
                }
                else {
                    $response[] = '<div class="alert alert-danger"><i class="fa fa-times"></i> Oh No! I coudn\'t create the user profile. This probably means there\'s something wrong with the permissions of the database user."</p></div>';
                }
            }
        }
    }
    echo json_encode($response);

} else { 
?><!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        
        <title>Installation: Tool Selection Assistant</title>
    
        <!-- Fonts -->
        <link href="//fonts.googleapis.com/css?family=Lato:300,700|Francois+One" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" href="/dist/css/main.css">
        
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <style>
            .alert { border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px;  padding: 8px; margin: 8px 0px; }
            .alert h2 { margin-top: 0px; }
        </style>
    </head>
    <body>
        <div class="container-fluid" id="top">
            <div class="row">
                <div class="steps">
                    <div class="step step-1"></div>
                    <div class="step step-2"></div>
                    <div class="step step-3"></div>
                    <div class="step step-4"></div>
                </div>
            </div>
            
            
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                    <h2>Welcome to the <span class="hilite">Tool Selection Assistant</span> installation</h2>
                    <?php if($noLocal): ?>
                    <div class="alert alert-danger">
                        <h2><i class="fa fa-times"></i> Attention!</h2>
                        <p>
                            No <strong>/config/local.php</strong> found! <br />
                            Without it the installer cannot work properly. <br />
                            Please look into the <a href="readme.txt">Readme file</a>, or follow instructions below.
                        </p>
                    </div>
                    <?php endif; ?>
                    <p>
                        Before continuing, please note that you need to properly configure your enviroment variables, found in the file <strong>/config/local.example.php</strong>.
                        We suggest you copy the file and rename it to "local.php" and proceed to edit the information in the new file. After doing this, you may click on the "Check Configuration" button to make sure everything is working smoothly. 
                    </p>
                    
                    <button class="btn btn-alt btn-lg" id="config-check" type="button">Check Configuration</button>
                    <div class="config-checks"></div>
                    <p>If everything is working fine, you may proceed to install the Root user and start working with the TSA.</p>
                    <hr />
                    
                    <p>Please fill in this form to install the application.</p>
                    <form class="form-horizontal" method="post" action="/install.php" id="install">
                        
                        <div class="form-box">
                            <h3>Application Configuration</h3>
                            <div class="install-response"></div>
                            <div class="form-group">
                                <label for="appusername" class="col-sm-3 control-label">Root Username *</label>
                                <div class="col-sm-9">
                                    <input type="text" name="appusername" id="appusername" class="form-control" value="Root">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="apppwd" class="col-sm-3 control-label">Root Password *</label>
                                <div class="col-sm-9">
                                    
                                    <div class="input-group">
                                        <input type="text" name="apppwd" id="apppwd" class="form-control">
                                        
                                        <span class="input-group-btn">
                                            <button class="btn btn-addon" type="button" id="key-gen">Generate</button>
                                        </span>
                                    </div>
                                    
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="appemail" class="col-sm-3 control-label">Root Email</label>
                                <div class="col-sm-9">
                                    <input type="text" name="appemail" id="appemail" class="form-control">
                                </div>
                            </div>
                        </div>
                        <small>Fields marked with a * are mandatory.</small>
                        
                        <div class="text-center">
                            <button type="submit" class="btn btn-alt btn-lg btn-block" id="install-app">INSTALL</button>
                        </div>
                        
                    </form>
                </div>
            </div>
        </div>
        <br/><br/>
        <footer><div class="container-fluid"></div></footer>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>
            $(document).ready(function(){
                $('#key-gen').click(function(e){
                    var StringCollection = 'ABCDEFGHIJKLMNOPQRSTUVXYZ!$.,-;:_#+*[]^?&()=|abcefghijklmnopqrstuvxyz1234567890';
                    var randomizedString = '';
                    for(i = 0; i < 17; i++){
                        randomizedString += StringCollection.charAt((Math.floor( (Math.random() * StringCollection.length) + 1)));
                    }
                    $('#apppwd').val(randomizedString);
                    
                    e.preventDefault();
                    return false;    
                });
                
                $('#config-check').click(function(e){
                    $('.config-checks').children().remove();
                    $.get('/install.php', {'config-check': 1}, function(response){
                        $.each(response, function() {
                            $('.config-checks').append(this);    
                        })  
                    }, 'json' );     
                    
                });
                
                $('#install-app').click(function(e){
                    $('.install-response').children().remove();
                    
                    var data = $('#install').serialize();
                    $.post('/install.php', data, function(response){
                        $.each(response, function() {
                            $('.install-response').append(this);    
                        })  
                    }, 'json' );     
                    e.preventDefault();
                    return false;
                });
            });
        </script>
    </body>
</html>
<?php } ?>